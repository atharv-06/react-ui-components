import{j as a}from"./jsx-runtime-C8upTG85.js";import{R as i}from"./iframe-4gq_mFh5.js";import"./preload-helper-PPVm8Dsz.js";function p({data:r,columns:f,loading:N=!1,selectable:j=!1,onRowSelect:x}){const[l,v]=i.useState(null),[c,S]=i.useState(!0),[o,g]=i.useState(new Set),w=e=>{if(!e.sortable)return;const t=e.dataIndex;l===t?S(s=>!s):(v(t),S(!0))},n=i.useMemo(()=>{if(!l)return r;const e=[...r];return e.sort((t,s)=>{const h=t[l],b=s[l];return h==null?1:b==null?-1:h===b?0:h>b?c?1:-1:c?-1:1}),e},[r,l,c]),D=e=>{const t=new Set(o);t.has(e)?t.delete(e):t.add(e),g(t),x?.([...t].map(s=>n[s]))},I=()=>{if(o.size===n.length)g(new Set),x?.([]);else{const e=new Set(n.map((t,s)=>s));g(e),x?.(n)}};return N?a.jsx("div",{role:"status","aria-live":"polite",className:"p-6 text-center",children:"Loading..."}):r.length?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[j&&a.jsx("th",{className:"px-4 py-2 text-left",children:a.jsx("input",{"aria-label":"select all rows",type:"checkbox",checked:o.size===n.length,onChange:I})}),f.map(e=>a.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:a.jsxs("button",{onClick:()=>w(e),"aria-label":e.sortable?`Sort by ${e.title}`:e.title,className:"flex items-center gap-2 w-full text-left",children:[a.jsx("span",{children:e.title}),e.sortable&&l===e.dataIndex&&a.jsx("span",{"aria-hidden":!0,children:c?"▲":"▼"})]})},e.key))]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:n.map((e,t)=>a.jsxs("tr",{className:`${o.has(t)?"bg-indigo-50":""}`,children:[j&&a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{"aria-label":`select row ${t+1}`,type:"checkbox",checked:o.has(t),onChange:()=>D(t)})}),f.map(s=>a.jsx("td",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-200",children:String(e[s.dataIndex])},s.key))]},t))})]})}):a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No records to display"})}const y=[{key:"name",title:"Name",dataIndex:"name",sortable:!0},{key:"email",title:"Email",dataIndex:"email"},{key:"age",title:"Age",dataIndex:"age",sortable:!0}],k=[{id:1,name:"Alice",email:"alice@example.com",age:24},{id:2,name:"Bob",email:"bob@example.com",age:30},{id:3,name:"Charlie",email:"charlie@example.com",age:28}],R={title:"Components/DataTable",component:p},d=()=>a.jsx(p,{data:k,columns:y}),m=()=>a.jsx(p,{data:k,columns:y,selectable:!0,onRowSelect:r=>console.log("selected",r)}),u=()=>a.jsx(p,{data:[],columns:y,loading:!0});d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:"() => <DataTable data={sample} columns={columns} />",...d.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:"() => <DataTable data={sample} columns={columns} selectable onRowSelect={rows => console.log('selected', rows)} />",...m.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:"() => <DataTable data={[]} columns={columns} loading />",...u.parameters?.docs?.source}}};const _=["Default","Selectable","Loading"];export{d as Default,u as Loading,m as Selectable,_ as __namedExportsOrder,R as default};
